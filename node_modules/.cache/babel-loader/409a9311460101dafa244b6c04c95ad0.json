{"ast":null,"code":"import _classCallCheck from\"/Users/timtaylor/Documents/meet/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/timtaylor/Documents/meet/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/timtaylor/Documents/meet/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/timtaylor/Documents/meet/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./App.css';import EventList from'./EventList';import CitySearch from'./CitySearch';import NumberOfEvents from'./NumberOfEvents';import{extractLocations,getEvents}from'./api';import'./App.css';import'./nprogress.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={events:[],locations:[],numberOfEvents:32,eventsByLocation:null,currentLocation:'all'};_this.updateEvents=function(location){getEvents().then(function(events){var locationEvents=location==='all'?events:events.filter(function(event){return event.location===location;});var numberOfEvents=_this.state.numberOfEvents;var filteredEvents=locationEvents.slice(0,numberOfEvents);var eventsByLocation=locationEvents.length;_this.setState({events:filteredEvents,eventsByLocation:eventsByLocation,currentLocation:location});});};_this.updateEventCount=function(eventCount){var currentLocation=_this.state.currentLocation;_this.setState({numberOfEvents:eventCount});_this.updateEvents(currentLocation);};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.mounted=true;var numberOfEvents=this.state.numberOfEvents;getEvents().then(function(events){if(_this2.mounted){_this2.setState({events:events.slice(0,numberOfEvents),locations:extractLocations(events),eventsByLocation:events.length});}});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.mounted=false;}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"intro\",children:\"Meet App\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"enter-city\",children:\"Enter a city:\"}),/*#__PURE__*/_jsx(CitySearch,{updateEvents:this.updateEvents,locations:this.state.locations}),/*#__PURE__*/_jsx(NumberOfEvents,{numberOfEvents:this.state.numberOfEvents,updateEventCount:this.updateEventCount}),/*#__PURE__*/_jsx(EventList,{events:this.state.events})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/timtaylor/Documents/meet/src/App.js"],"names":["React","Component","EventList","CitySearch","NumberOfEvents","extractLocations","getEvents","App","state","events","locations","numberOfEvents","eventsByLocation","currentLocation","updateEvents","location","then","locationEvents","filter","event","filteredEvents","slice","length","setState","updateEventCount","eventCount","mounted"],"mappings":"wbAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,OAASC,gBAAT,CAA2BC,SAA3B,KAA4C,OAA5C,CACA,MAAO,WAAP,CACA,MAAO,iBAAP,C,2FAEMC,CAAAA,G,+SAEJC,K,CAAQ,CACNC,MAAM,CAAE,EADF,CAENC,SAAS,CAAE,EAFL,CAGNC,cAAc,CAAE,EAHV,CAINC,gBAAgB,CAAE,IAJZ,CAKNC,eAAe,CAAE,KALX,C,OA2BRC,Y,CAAe,SAAAC,QAAQ,CAAI,CACzBT,SAAS,GAAGU,IAAZ,CAAiB,SAAAP,MAAM,CAAI,CACzB,GAAMQ,CAAAA,cAAc,CAAIF,QAAQ,GAAK,KAAd,CACnBN,MADmB,CAEnBA,MAAM,CAACS,MAAP,CAAc,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACJ,QAAN,GAAmBA,QAAvB,EAAnB,CAFJ,CAGA,GAAQJ,CAAAA,cAAR,CAA2B,MAAKH,KAAhC,CAAQG,cAAR,CACA,GAAMS,CAAAA,cAAc,CAAGH,cAAc,CAACI,KAAf,CAAqB,CAArB,CAAwBV,cAAxB,CAAvB,CACA,GAAMC,CAAAA,gBAAgB,CAAGK,cAAc,CAACK,MAAxC,CACA,MAAKC,QAAL,CAAc,CACZd,MAAM,CAAEW,cADI,CAEZR,gBAAgB,CAAEA,gBAFN,CAGZC,eAAe,CAAEE,QAHL,CAAd,EAKD,CAZD,EAaD,C,OAEDS,gB,CAAmB,SAAAC,UAAU,CAAI,CAC/B,GAAQZ,CAAAA,eAAR,CAA4B,MAAKL,KAAjC,CAAQK,eAAR,CACA,MAAKU,QAAL,CAAc,CACZZ,cAAc,CAAEc,UADJ,CAAd,EAGA,MAAKX,YAAL,CAAkBD,eAAlB,EACD,C,gEAzCD,4BAAoB,iBAClB,KAAKa,OAAL,CAAe,IAAf,CACA,GAAQf,CAAAA,cAAR,CAA2B,KAAKH,KAAhC,CAAQG,cAAR,CAEAL,SAAS,GAAGU,IAAZ,CAAiB,SAAAP,MAAM,CAAI,CACzB,GAAI,MAAI,CAACiB,OAAT,CAAkB,CAChB,MAAI,CAACH,QAAL,CAAc,CACZd,MAAM,CAAEA,MAAM,CAACY,KAAP,CAAa,CAAb,CAAgBV,cAAhB,CADI,CAEZD,SAAS,CAAEL,gBAAgB,CAACI,MAAD,CAFf,CAGZG,gBAAgB,CAAEH,MAAM,CAACa,MAHb,CAAd,EAKD,CACF,CARD,EASD,C,oCAED,+BAAuB,CACrB,KAAKI,OAAL,CAAe,KAAf,CACD,C,sBA0BD,iBAAS,CACP,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,WAAI,SAAS,CAAC,OAAd,sBADF,cAEE,WAAI,SAAS,CAAC,YAAd,2BAFF,cAGE,KAAC,UAAD,EAAY,YAAY,CAAE,KAAKZ,YAA/B,CAA6C,SAAS,CAAE,KAAKN,KAAL,CAAWE,SAAnE,EAHF,cAIE,KAAC,cAAD,EAAgB,cAAc,CAAE,KAAKF,KAAL,CAAWG,cAA3C,CAA2D,gBAAgB,CAAE,KAAKa,gBAAlF,EAJF,cAKE,KAAC,SAAD,EAAW,MAAM,CAAE,KAAKhB,KAAL,CAAWC,MAA9B,EALF,GADF,CASD,C,iBA/DeR,S,EAkElB,cAAeM,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport EventList from './EventList';\nimport CitySearch from './CitySearch';\nimport NumberOfEvents from './NumberOfEvents';\nimport { extractLocations, getEvents } from './api';\nimport './App.css';\nimport './nprogress.css';\n\nclass App extends Component {\n\n  state = {\n    events: [],\n    locations: [],\n    numberOfEvents: 32,\n    eventsByLocation: null,\n    currentLocation: 'all'\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    const { numberOfEvents } = this.state;\n\n    getEvents().then(events => {\n      if (this.mounted) {\n        this.setState({\n          events: events.slice(0, numberOfEvents),\n          locations: extractLocations(events),\n          eventsByLocation: events.length\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  updateEvents = location => {\n    getEvents().then(events => {\n      const locationEvents = (location === 'all')\n        ? events\n        : events.filter(event => event.location === location);\n      const { numberOfEvents } = this.state;\n      const filteredEvents = locationEvents.slice(0, numberOfEvents);\n      const eventsByLocation = locationEvents.length;\n      this.setState({\n        events: filteredEvents,\n        eventsByLocation: eventsByLocation,\n        currentLocation: location\n      });\n    });\n  }\n\n  updateEventCount = eventCount => {\n    const { currentLocation } = this.state;\n    this.setState({\n      numberOfEvents: eventCount\n    });\n    this.updateEvents(currentLocation);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1 className=\"intro\">Meet App</h1>\n        <h4 className=\"enter-city\">Enter a city:</h4>\n        <CitySearch updateEvents={this.updateEvents} locations={this.state.locations} />\n        <NumberOfEvents numberOfEvents={this.state.numberOfEvents} updateEventCount={this.updateEventCount} />\n        <EventList events={this.state.events} />\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}